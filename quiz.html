<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Section</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/quiz.css">
</head>
<body>
<!-- Navigation Bar -->
<nav>
    <ul>
        <li><a href="#">Home</a></li>
        <li><a href="#">Video</a></li>
        <li><a href="#">Audio</a></li>
        <li><a href="#">Quiz</a></li>
        <li><a href="story.html">Stories</a></li>
        <li><a href="discussion.html">Discuss</a></li>
    </ul>
</nav>
<header>
    <h1>Quiz Section</h1>
</header>

<main>
    <section id="quiz-section">
        <div id="progress-bar">
            <div id="progress"></div>
        </div>
        <div id="quiz-container">
            <div id="question-container">
                <h2 id="question"></h2>
                <div id="options-container"></div>
            </div>
            <button id="next-button">Next</button>
        </div>
        <!-- Parent container for result and celebration -->
        <div id="result-and-celebration" style="position: relative;">
            <div id="result-container" class="hidden">
                <h3>Quiz Completed!</h3>
                <p id="result-text"></p>
                <button id="restart-button">Restart Quiz</button>
            </div>
            <div id="celebration" class="hidden">
                <div id="balloons" class="floating"></div>
                <div id="flowers" class="floating"></div>
                <div id="ribbons">
                    <div class="ribbon"></div>
                    <div class="ribbon"></div>
                    <div class="ribbon"></div>
                    <div class="ribbon"></div>
                    <div class="ribbon"></div>
                </div>
            </div>
        </div>

        <!-- Music Section -->
        <div id="music-section">
            <p><strong>Would you like to listen to relaxing music while taking the quiz?</strong></p>
            <button id="play-music" class="music-btn">
                <i class="fas fa-play"></i>
            </button>
            <button id="pause-music" class="music-btn" style="display: none;">
                <i class="fas fa-pause"></i>
            </button>
        </div>
    </section>
</main>

<footer>
    <p>Â© Take a step towards understanding mental health. Start the quiz above!</p>
</footer>

<!-- Background music -->
<audio id="background-music" loop>
    <source src="quiz-song.m4a" type="audio/mp3">
    Your browser does not support the audio element.
</audio>
<!-- Clapping sound effect -->
<audio id="clapping-sound">
    <source src="clap.m4a" type="audio/mp3">
    Your browser does not support the audio element.
</audio>

<script src="js/quiz.js"></script>
<script>
    const music = document.getElementById("background-music");
    const playButton = document.getElementById("play-music");
    const pauseButton = document.getElementById("pause-music");
    const resultContainer = document.getElementById("result-container");
    const celebrationSection = document.getElementById("celebration");
    const clappingSound = document.getElementById("clapping-sound");
    const restartButton = document.getElementById("restart-button");

    // Stop clapping sound when restarting the quiz
    restartButton.addEventListener("click", () => {
        clappingSound.pause();
        clappingSound.currentTime = 0; // Reset sound to beginning
    });

    // // Function to show the celebration animation when quiz is completed
    // function showCelebration() {
    //     celebrationSection.classList.remove("hidden"); // Show celebration animation
    //     resultContainer.classList.add("hidden"); // Hide result section
    //     clappingSound.play(); // Play clapping sound
    // }

    // Play music
    playButton.addEventListener("click", () => {
        music.play();
        playButton.style.display = "none";
        pauseButton.style.display = "inline-block";
    });

    // Pause music
    pauseButton.addEventListener("click", () => {
        music.pause();
        playButton.style.display = "inline-block";
        pauseButton.style.display = "none";
    });

    // Simulate the celebration when quiz is completed
    setTimeout(showCelebration, 2000); // Show animation after 2 seconds


</script>
</body>
</html>
